# Monki
Simple API bootstrapper.

## Installation

### Composer (recommended)

```composer require monomelodies/monki````

### Manual
Download or clone the repo, and add `/path/to/monki/src` to your autoloader.

## What is it?
Monki is a set of tools to quickly and generically generate an API setup for
project. Providing an API is becoming more and more important for several
reasons:

- It allows your library or project to easily become part of the "internet of
  things" by allowing other libraries or apps to access it;
- For SPAs using e.g. AngularJS offering an API is a must;
- Even when writing traditional PHP apps, using an API can abstract away much
  of the workings of a database for instance.

## Configuration and generation

To generate an API skeleton for your project, the Monki command line tools needs
to know a few things about it. You can specify this information in parameters,
or store it in a simple config file:

    # vendor/bin/monki --config=src/monki.json

Or, manually specifying a MySQL database source:

    # vendor/bin/monki --source=mysql:dsn



## Restricting access

By default, all API endpoints generated by Monki will be publicly accessible.
Obviously, this is not always what one wants. Change the methods involved to
`protected` to restrict access to a logged in user:

    <?php

    // Generated code:
    namespace MyApi;

    use Monki

    class TwitterTweet extends Monki\Endpoint
    {
        public function get($id)
        {
            // Code to get the tweet omitted
        }

        // Placing a tweet is only for logged-in users:
        protected function put()
        {
            // Code to place a tweet omitted
        }
    }

To make a method (e.g. `delete` for removing a tweet if you support that) only
accessible to the object's owner, declare it as private. Monki sorts out the
required permissions based on the configuration.
